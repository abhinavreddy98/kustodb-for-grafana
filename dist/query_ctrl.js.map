{"version":3,"sources":["../src/query_ctrl.js"],"names":["QueryCtrl","defaultQuery","KustoQueryCtrl","$scope","$injector","scope","target","format","formats","text","value","csl","showhelp","query","datasource","metricFindQuery","rawQuery","panelCtrl","refresh","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,e,kBAAAA,S;;;;;;;;;;;;;;;;;;;;;AAEFC,kB;;gCAIOC,c;;;AAEX,gCAAYC,MAAZ,EAAoBC,SAApB,EAAgC;AAAA;;AAAA,sIAExBD,MAFwB,EAEhBC,SAFgB;;AAM9B,gBAAKC,KAAL,GAAaF,MAAb;;AAEA,gBAAKG,MAAL,CAAYA,MAAZ,GAAqB,MAAKA,MAAL,CAAYA,MAAZ,IAAsB,eAA3C;;AAEA,gBAAKA,MAAL,CAAYC,MAAZ,GAAqB,MAAKD,MAAL,CAAYC,MAAZ,IAAsB,WAA3C;;AAEA,gBAAKC,OAAL,GAAe,CAAC,EAAEC,MAAM,aAAR,EAAuBC,OAAO,aAA9B,EAAD,EAAgD,EAAED,MAAM,OAAR,EAAiBC,OAAO,OAAxB,EAAhD,CAAf;;AAEA,gBAAKJ,MAAL,CAAYK,GAAZ,GAAkB,MAAKL,MAAL,CAAYK,GAAZ,IAAmBV,YAArC;;AAEA,gBAAKW,QAAL,GAAgB,KAAhB;;AAhB8B;AAkB/B;;;;qCAIUC,K,EAAO;;AAEhB,mBAAO,KAAKC,UAAL,CAAgBC,eAAhB,CAAgCF,SAAS,EAAzC,CAAP;AAED;;;6CAIkB;;AAEjB,iBAAKP,MAAL,CAAYU,QAAZ,GAAuB,CAAC,KAAKV,MAAL,CAAYU,QAApC;AAED;;;6CAIkB;;AAEjB,iBAAKC,SAAL,CAAeC,OAAf,GAFiB,CAES;AAE3B;;;;QA5CiClB,S;;;;AAkDpCE,qBAAeiB,WAAf,GAA6B,4BAA7B","file":"query_ctrl.js","sourcesContent":["import {QueryCtrl} from 'app/plugins/sdk';\n\nconst defaultQuery = `<Table Name> \n| $__timeFilter(<Time Column>) \n| order by <Time Column> asc`;\n\nexport class KustoQueryCtrl extends QueryCtrl {\n\n  constructor($scope, $injector)  {\n\n    super($scope, $injector);\n\n\n\n    this.scope = $scope;\n\n    this.target.target = this.target.target || 'select metric';\n\n    this.target.format = this.target.format || 'timeserie';\n\n    this.formats = [{ text: 'Time series', value: 'time_series' }, { text: 'Table', value: 'table' }];\n\n    this.target.csl = this.target.csl || defaultQuery;\n\n    this.showhelp = false;\n\n  }\n\n\n\n  getOptions(query) {\n\n    return this.datasource.metricFindQuery(query || '');\n\n  }\$

